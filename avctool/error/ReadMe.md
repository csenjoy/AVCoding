# errno模块需求分析
## 支持系统错误值
    调用系统接口后，如果出错，则会返回系统定义的错误类型。相同错误也可能有不同的错误值
    因此需要wrapper函数，方便系统错误值与errno库错误值相互转化
### 不同平台系统错误值映射到errno模块错误值
### errno错误值映射到系统平台错误值

## 支持模块定义的错误值
    每个模块出了使用公共的错误值，应该定义自己的错误值和错误值字符串描述
### 由于模块错误值由模块定义，因此模块需要提供错误值与错误描述映射函数

## 错误描述
    为了方便打印错误，应该对每个错误值映射错误描述

## 提供同一的errno接口处理错误值与错误描述
### 为了调用errno接口同一处理错误值，所以errno模块约定各个模块错误值的起始范围，避免产生冲突
### 为了调用errno接口同一处理错误描述，所以errno模块提供错误描述注册函数

## 错误异常（事实上errno模块并不需要错误异常定义，因为errno是用来描述错误的，而错误异常是实现某个接口时，选择返回值还是抛出异常）
    一般情况用户判断函数返回值即可完成错误原因判断，但是由于一个逻辑，可能需要多层调用，逐层判断返回值方式太费力,
        doSomething --> sub-Process --> sub-sub-Process --> ...
    如果能够直接抛出异常，即可很方便处理错误原因判断
### 创建错误异常时，自动捕获所处函数以及行数
### 错误异常包含： 描述错误值与错误描述
### 错误异常类型
#### 运行时错误异常
    运行时错误异常，导致程序直接退出
#### 模块错误异常
    可以恢复，增加程序鲁棒性

# errno模块框架设计

# errno模块接口设计
## 简单错误
    通过使用错误值与错误描述，定义错误值与错误值对应可读字符串
## 复杂错误
    复杂错误，可以通过C++类定义方式描述错误，不仅仅包含简单错误，还包含其他额外信息，例如：错误发生文件，函数，行号，线程信息，输入类似日志一样的格式化字符串信息等等

## 宏定义嵌套实现错误值与错误描述定义
### 定义错误值与错误描述映射
    #define AVC_ERRNO_MAP_XXXX(XX) \
        XX(ERRNO_SOCKET_CREATE, 1000, "SocketCreate", "Failed to create socket")
    定义包含枚举（ERRNO_SOCKET_CREATE) 与对应的值（1000）以及错误可读描述

### 使用嵌套宏定义错误枚举
    #define AVC_ERRNO_GEN(n, v, m, s) n = v,
    enum AvcCodeError {
        AVC_ERRNO_MAP_XXXX(AVC_ERRNO_GEN)
    };

### 使用嵌套宏定义错误描述
    

